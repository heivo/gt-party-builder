(this["webpackJsonpgt-party-builder"]=this["webpackJsonpgt-party-builder"]||[]).push([[0],{35:function(e,s,n){},43:function(e,s,n){"use strict";n.r(s);var t,i,r,l,a,o,c,u,d,h,y,A=n(0),f=n.n(A),S=n(25),b=n.n(S),m=(n(35),n(45)),_=n(27),p=n(16),C=n(20),j=n.n(C),v=n(21),D=n(26),O=n(46);!function(e){e.Fit="FIT",e.Pad="PAD",e.Fill="FILL",e.Scale="SCALE",e.Crop="CROP",e.Thumb="THUMB"}(t||(t={})),function(e){e.Center="CENTER",e.Top="TOP",e.TopRight="TOP_RIGHT",e.Right="RIGHT",e.BottomRight="BOTTOM_RIGHT",e.Bottom="BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.Left="LEFT",e.TopLeft="TOP_LEFT",e.Face="FACE",e.Faces="FACES"}(i||(i={})),function(e){e.Jpg="JPG",e.JpgProgressive="JPG_PROGRESSIVE",e.Png="PNG",e.Png8="PNG8",e.Webp="WEBP"}(r||(r={})),function(e){e.UrlAsc="url_ASC",e.UrlDesc="url_DESC",e.SizeAsc="size_ASC",e.SizeDesc="size_DESC",e.ContentTypeAsc="contentType_ASC",e.ContentTypeDesc="contentType_DESC",e.FileNameAsc="fileName_ASC",e.FileNameDesc="fileName_DESC",e.WidthAsc="width_ASC",e.WidthDesc="width_DESC",e.HeightAsc="height_ASC",e.HeightDesc="height_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(l||(l={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.RarityAsc="rarity_ASC",e.RarityDesc="rarity_DESC",e.PartyBuffValueAsc="partyBuffValue_ASC",e.PartyBuffValueDesc="partyBuffValue_DESC",e.PartyBuffValue2Asc="partyBuffValue2_ASC",e.PartyBuffValue2Desc="partyBuffValue2_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(a||(a={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.RarityAsc="rarity_ASC",e.RarityDesc="rarity_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(o||(o={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.IsAnyAsc="isAny_ASC",e.IsAnyDesc="isAny_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(c||(c={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(u||(u={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(d||(d={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(h||(h={})),function(e){e.NameAsc="name_ASC",e.NameDesc="name_DESC",e.SysIdAsc="sys_id_ASC",e.SysIdDesc="sys_id_DESC",e.SysPublishedAtAsc="sys_publishedAt_ASC",e.SysPublishedAtDesc="sys_publishedAt_DESC",e.SysFirstPublishedAtAsc="sys_firstPublishedAt_ASC",e.SysFirstPublishedAtDesc="sys_firstPublishedAt_DESC",e.SysPublishedVersionAsc="sys_publishedVersion_ASC",e.SysPublishedVersionDesc="sys_publishedVersion_DESC"}(y||(y={}));var E=function(e,s,n){return Object(O.a)(["getData",s],function(e,s,n,t){return Object(D.a)(j.a.mark((function i(){var r,l,a;return j.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,fetch(e,Object(v.a)(Object(v.a)({method:"POST"},s),{},{body:JSON.stringify({query:n,variables:t})}));case 2:return r=i.sent,i.next=5,r.json();case 5:if(!(l=i.sent).errors){i.next=9;break}throw a=l.errors[0].message,new Error(a);case 9:return i.abrupt("return",l.data);case 10:case"end":return i.stop()}}),i)})))}(e.endpoint,e.fetchParams||{},"\n    query getData {\n  heroCollection(order: name_ASC) {\n    items {\n      sys {\n        id\n      }\n      name\n      image {\n        url\n      }\n      rarity\n      role {\n        sys {\n          id\n        }\n        name\n      }\n      element {\n        sys {\n          id\n        }\n        name\n      }\n      chainAilmentStart {\n        sys {\n          id\n        }\n        name\n        isAny\n      }\n      chainAilmentEnd {\n        sys {\n          id\n        }\n        name\n      }\n      partyBuff {\n        sys {\n          id\n        }\n        name\n      }\n      partyBuffValue\n      partyBuff2 {\n        sys {\n          id\n        }\n        name\n      }\n      partyBuffValue2\n      defaultWeapon {\n        sys {\n          id\n        }\n      }\n    }\n  }\n  heroRoleCollection {\n    items {\n      sys {\n        id\n      }\n      name\n    }\n  }\n  weaponCollection(order: name_ASC) {\n    items {\n      sys {\n        id\n      }\n      name\n      element {\n        sys {\n          id\n        }\n        name\n      }\n      ailment {\n        sys {\n          id\n        }\n        name\n      }\n      category {\n        sys {\n          id\n        }\n        name\n      }\n      image {\n        url(transform: {height: 75, width: 75})\n      }\n    }\n  }\n  weaponCategoryCollection {\n    items {\n      sys {\n        id\n      }\n      name\n    }\n  }\n  elementCollection {\n    items {\n      sys {\n        id\n      }\n      name\n    }\n  }\n  ailmentCollection {\n    items {\n      sys {\n        id\n      }\n      name\n      image {\n        url(transform: {width: 30, height: 30})\n      }\n      isAny\n    }\n  }\n  heroPartyBuffCollection {\n    items {\n      sys {\n        id\n      }\n      name\n    }\n  }\n}\n    ",s),n)},P=n(2),g=f.a.createContext({heroes:[],heroRoles:[],heroPartyBuffs:[],weapons:[],weaponCategories:[],elements:[],ailments:[]}),x=g,V=function(e){var s,n,t,i,r,l,a,o,c=e.children,u=E({endpoint:null!==(s="https://graphql.contentful.com/content/v1/spaces/fyrmlfwxhp4g")?s:"",fetchParams:{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("2lAah-FNCZ1__ojJcjm3VdrDFQxRMLuxmktNWMkd-l0")}}}).data;return u?Object(P.jsx)(g.Provider,{value:{heroes:null===(n=u.heroCollection)||void 0===n?void 0:n.items,heroRoles:null===(t=u.heroRoleCollection)||void 0===t?void 0:t.items,heroPartyBuffs:null===(i=u.heroPartyBuffCollection)||void 0===i?void 0:i.items,weapons:null===(r=u.weaponCollection)||void 0===r?void 0:r.items,weaponCategories:null===(l=u.weaponCategoryCollection)||void 0===l?void 0:l.items,elements:null===(a=u.elementCollection)||void 0===a?void 0:a.items,ailments:null===(o=u.ailmentCollection)||void 0===o?void 0:o.items},children:c}):null},w=n(5),I=n.n(w),B=n(14),N=n(28),F=n.n(N),T=function(e){var s=e.ailmentStart,n=e.ailmentEnd;return Object(P.jsxs)("div",{className:I.a.chainIcon,children:[Object(P.jsx)("img",{src:s.image.url,alt:s.name,title:s.name}),Object(P.jsx)("img",{src:n.image.url,alt:n.name,title:n.name}),Object(P.jsx)("img",{src:"data:image/png;base64,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",alt:"chain"})]})},k=function(e){var s,n=e.hero,t=e.onClick,i=e.locked,r=void 0!==i&&i,l=e.size,a=void 0===l?150:l,o=Object(A.useContext)(x).ailments,c=o.find((function(e){var s;return e.sys.id===(null===n||void 0===n||null===(s=n.chainAilmentStart)||void 0===s?void 0:s.sys.id)})),u=o.find((function(e){var s;return e.sys.id===(null===n||void 0===n||null===(s=n.chainAilmentEnd)||void 0===s?void 0:s.sys.id)}));return Object(P.jsx)("div",{className:F()(I.a.heroBadge,Object(B.a)({},I.a.locked,r)),onClick:t,style:{backgroundImage:(null===n||void 0===n?void 0:n.image.url)?"url(".concat(n.image.url,")"):void 0,width:a,height:a},title:null!==(s=null===n||void 0===n?void 0:n.name)&&void 0!==s?s:void 0,children:n?Object(P.jsx)("div",{className:I.a.heroBadgeChainContainer,children:c&&u&&Object(P.jsx)(T,{ailmentStart:c,ailmentEnd:u})}):Object(P.jsx)("i",{children:"<empty>"})})};var W=function(e){var s=e.lockedHeros,n=e.onSelect,t=Object(A.useContext)(x).heroes;return Object(P.jsx)("div",{className:I.a.heroPicker,children:t.map((function(e){return Object(P.jsx)("div",{className:I.a.badgeWrapper,children:Object(P.jsx)(k,{hero:e,locked:s.includes(e),onClick:function(){return function(e){s.includes(e)||n(e)}(e)},size:100})},e.sys.id)}))})},Q=function(e){var s=e.heroes,n=Object(A.useContext)(x).heroPartyBuffs,t=s.reduce((function(e,s){var n,t;(e[s.partyBuff.sys.id]=(null!==(n=e[s.partyBuff.sys.id])&&void 0!==n?n:0)+s.partyBuffValue,s.partyBuff2&&s.partyBuffValue2)&&(e[s.partyBuff2.sys.id]=(null!==(t=e[s.partyBuff2.sys.id])&&void 0!==t?t:0)+s.partyBuffValue2);return e}),{});return Object(P.jsxs)("div",{className:I.a.partyBuffSummary,children:[n.filter((function(e){var s=e.sys.id;return t[s]})).map((function(e){var s=e.sys.id,n=e.name;return Object(P.jsxs)("div",{children:[Object(P.jsxs)("strong",{children:[n,":"]})," ",t[s],"%"]},s)})),!s.length&&Object(P.jsx)("i",{children:"no party buffs"})]})},J=n(7),G=f.a.createContext({slots:[],selectHero:function(){},reset:function(){}}),H=G,L=function(e){var s=e.children,n=Object(A.useContext)(x).weapons,t=q(),i=t.hydrateSlots,r=t.updateStore,l=t.clearStore,a=Object(A.useMemo)((function(){return i()}),[i]);return Object(P.jsx)(G.Provider,{value:{slots:a,selectHero:function(e,s){var t,i=null!==(t=n.find((function(e){var n;return e.sys.id===(null===(n=s.defaultWeapon)||void 0===n?void 0:n.sys.id)})))&&void 0!==t?t:null;a[e]={hero:s,weapon:i},r(a)},reset:function(){l()}},children:s})},q=function(){var e=Object(J.f)().slug,s=Object(J.e)(),n=Object(A.useContext)(x),t=n.heroes,i=n.weapons,r=function(e){var s;return null!==(s=t.find((function(s){return e.length&&s.sys.id.startsWith(e)})))&&void 0!==s?s:null},l=function(e){var s;return null!==(s=i.find((function(s){return e.length&&s.sys.id.startsWith(e)})))&&void 0!==s?s:null},a=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:99;return btoa(e.map((function(e){var n,t,i,r,l,a;return"".concat(null!==(n=null===(t=e.hero)||void 0===t||null===(i=t.sys.id)||void 0===i?void 0:i.substr(0,s))&&void 0!==n?n:"","-").concat(null!==(r=null===(l=e.weapon)||void 0===l||null===(a=l.sys.id)||void 0===a?void 0:a.substr(0,s))&&void 0!==r?r:"")})).join("-"))},o=function(e){var s=atob(e).split("-"),n=Object(p.a)(s,8);return{h0:n[0],w0:n[1],h1:n[2],w1:n[3],h2:n[4],w2:n[5],h3:n[6],w3:n[7]}};return{hydrateSlots:function(){if(e)try{var s=o(e);return[{hero:r(s.h0),weapon:l(s.w0)},{hero:r(s.h1),weapon:l(s.w1)},{hero:r(s.h2),weapon:l(s.w2)},{hero:r(s.h3),weapon:l(s.w3)}]}catch(n){console.error("could not hydrate state from slug",n)}return[{hero:null,weapon:null},{hero:null,weapon:null},{hero:null,weapon:null},{hero:null,weapon:null}]},updateStore:function(e){s.push(a(e,5))},clearStore:function(){s.push("")}}},R=function(e){var s,n,t,i,r,l,a=e.weapon,o=e.onClick,c=e.showAilment,u=void 0!==c&&c,d=Object(A.useContext)(x).ailments.find((function(e){var s;return e.sys.id===(null===(s=a.ailment)||void 0===s?void 0:s.sys.id)}));return Object(P.jsx)("div",{className:I.a.weaponBadge,onClick:o,style:{backgroundImage:(null===a||void 0===a||null===(s=a.image)||void 0===s?void 0:s.url)?"url(".concat(a.image.url,")"):void 0},title:null!==(n=null===a||void 0===a?void 0:a.name)&&void 0!==n?n:void 0,children:u&&Object(P.jsx)("div",{className:I.a.weaponBadgeAilment,children:Object(P.jsx)("img",{src:null!==(t=null===(i=d.image)||void 0===i?void 0:i.url)&&void 0!==t?t:"",alt:null!==(r=d.name)&&void 0!==r?r:"",title:null!==(l=d.name)&&void 0!==l?l:""})})})},X=function(e){var s=e.data,n=s.hero,t=s.weapon,i=e.onClickHero,r=e.onClickWeapon,l=e.index;return Object(P.jsxs)("div",{className:I.a.slot,children:[Object(P.jsx)(k,{hero:n,onClick:i}),t&&Object(P.jsx)(R,{weapon:t,onClick:r,showAilment:0===l})]})},Y=function e(s){if(s.length<2)return[s];var n=[];return s.forEach((function(t,i){e(s.slice(0,i).concat(s.slice(i+1))).forEach((function(e){n.push([t].concat(e))}))})),n},M=function(e){var s=e.heroes,n=e.weapon,t=null!==n?Y(s).map((function(e){return function(e,s){for(var n=s.ailment.sys.id,t=0;t<e.length;t++){if(!e[t].chainAilmentStart.isAny&&e[t].chainAilmentStart.sys.id!==n)return e.slice(0,t);n=e[t].chainAilmentEnd.sys.id}return e}(e,n)})).filter((function(e){return e.length>=3})).sort((function(e,s){return s.length-e.length})):[];return Object(P.jsxs)("div",{className:I.a.chainInfo,children:[t.length?Object(P.jsx)("strong",{children:"Possible chains:"}):Object(P.jsx)("i",{children:"no possible chains"}),t.map((function(e,s){return Object(P.jsx)("div",{className:I.a.chain,children:e.map((function(e,s){return Object(P.jsxs)(f.a.Fragment,{children:[s>0&&Object(P.jsx)("span",{className:I.a.chainArrow}),Object(P.jsx)(k,{hero:e,size:100})]},e.sys.id)}))},s)}))]})};var K=function(){var e=Object(A.useContext)(H),s=e.slots,n=e.selectHero,t=e.reset,i=s.map((function(e){return e.hero})).filter((function(e){return null!==e})),r=Object(A.useState)(),l=Object(p.a)(r,2),a=l[0],o=l[1],c=function(e){return function(){o(e)}};if(void 0!==a){var u=s[a].hero,d=i.filter((function(e){return e!==u}));return Object(P.jsx)(W,{lockedHeros:d,onSelect:function(e){return function(e,s){n(e,s),o(void 0)}(a,e)}})}return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:I.a.slotContainer,children:s.map((function(e,s){return Object(P.jsx)(X,{data:e,onClickHero:c(s),onClickWeapon:function(){},index:s},s)}))}),Object(P.jsx)(Q,{heroes:i}),Object(P.jsx)(M,{heroes:i,weapon:null===s||void 0===s?void 0:s[0].weapon}),i.length>0&&Object(P.jsx)("button",{onClick:t,className:I.a.resetButton,children:"reset"})]})},z=n(19);var U=function(){var e=new m.a({defaultOptions:{queries:{refetchOnWindowFocus:!1,refetchInterval:-1,refetchIntervalInBackground:!1,refetchOnReconnect:!1,refetchOnMount:!1}}});return Object(P.jsx)(z.a,{basename:"/gt-party-builder",children:Object(P.jsx)(_.a,{client:e,children:Object(P.jsx)(V,{children:Object(P.jsx)(J.a,{path:["/:slug","/"],children:Object(P.jsx)(L,{children:Object(P.jsx)(K,{})})})})})})};b.a.render(Object(P.jsx)(f.a.StrictMode,{children:Object(P.jsx)(U,{})}),document.getElementById("root"))},5:function(e,s,n){e.exports={slotContainer:"style_slotContainer__eU-d0",slot:"style_slot__1N9BA",heroBadge:"style_heroBadge__31C0z",locked:"style_locked__qVgEX",heroBadgeChainContainer:"style_heroBadgeChainContainer__2xqEc",weaponBadge:"style_weaponBadge__2eVYP",weaponBadgeAilment:"style_weaponBadgeAilment__3W7iv",chainIcon:"style_chainIcon__1PZS2",heroPicker:"style_heroPicker__1gFpE",badgeWrapper:"style_badgeWrapper__wy5yB",partyBuffSummary:"style_partyBuffSummary__3HdQN",chainInfo:"style_chainInfo__3oYah",chain:"style_chain__3zJry",chainArrow:"style_chainArrow__1HgkD",resetButton:"style_resetButton__3m-X4"}}},[[43,1,2]]]);
//# sourceMappingURL=main.6e6019c7.chunk.js.map